{% extends 'layout/base.html' %} {% block content %}
<div class="container">
  <div class="row">
    <!-- Login form section  -->
    <div class="col-lg-6 text-center py-5">
    <div class="mt-2">
    {% with messages = get_flashed_messages(category_filter=["signedup"]) %} 
        {% if messages %} 
            {% for message in messages %}
                <div class="alert alert-warning alert-dismissable" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="close">
                        <span aria-hidden="true">&times;</span></button>
                        {{message}}
                </div>
            {% endfor %} 
        {% endif %}
    {% endwith %}
    </div>
    <div class="mt-2">
    {% with messages = get_flashed_messages(category_filter=["noaccount"]) %} 
        {% if messages %} 
            {% for message in messages %}
                <div class="alert alert-warning alert-dismissable" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="close">
                        <span aria-hidden="true">&times;</span></button>
                        {{message}}
                </div>
            {% endfor %} 
        {% endif %}
    {% endwith %}
    </div>
      <h1 class="py-2">Login</h1>
      <form method="POST" action="{{url_for('login')}}">
        <div class="form-group">
          <input
            type="text"
            class="form-control"
            name="username"
            placeholder="Username"
            aria-describedby="username"
            required
          />
        </div>
        <div class="form-group">
          <input
            type="password"
            class="form-control"
            name="password"
            placeholder="Password"
            required
          />
        </div>
        <button type="submit" class="btn btn-dark">Login</button>
        <div class="pt-2">
        {% with messages = get_flashed_messages(category_filter=["invalid"]) %} 
            {% if messages %} 
                {% for message in messages %}
                    <div class="alert alert-warning alert-dismissable" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="close">
                            <span aria-hidden="true">&times;</span></button>
                            {{message}}
                    </div>
                {% endfor %} 
            {% endif %}
        {% endwith %}
        </div>
      </form>
      <p class="py-3">Don't have an account yet?</p>
      <a href="{{url_for('signup_page')}}" class="btn btn-warning">Sign Up</a>
    </div>
    <!-- End of login form section -->

    <!-- Image section -->
    <div class="col-lg-6">
      <div class="card search-box-style pt-5 pb-2">
        <img
          src="static/images/key.png"
          class="img-medium mx-auto d-block pb-2"
          alt="Gamepads"
        />
        <img
          src="static/images/handheld-game.png"
          class="img-medium mx-auto d-block pb-2"
          alt="Gamepads"
        />
      </div>
    </div>
    <!-- End of image section -->
  </div>
</div>

{% endblock %}
