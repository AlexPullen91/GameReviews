{% extends 'layout/base.html' %} {% block content %}

<div class="container pt-5">
  <form action="{{ url_for('update_review', review_id=review._id) }}" method="POST">
    <div class="row pt-5">
      <!-- game image section -->
      <div class="col-md-5 m-auto text-center">
        <img src="{{review.image_url}}" class="img-fluid border-radius-sm thick-border" alt="Responsive image" />
      </div>
      <!-- end of game image section -->

      <!-- game details input section -->
      <div class="col-md-7">
      <h1 class="heading py-4">Edit Review</h1>
        <div class="form-group">
          <label for="game_title">Game Title</label>
          <input
            class="form-control thick-border border-radius-sm"
            name="game_title"
            type="text"
            value="{{review.game_title}}"
            readonly
          />
        </div>
        <div class="form-group">
          <label for="genres">Genres</label>
          <input class="form-control thick-border border-radius-sm" name="genres" type="text" value="{{review.genres}}" readonly/>
        </div>
        <div class="form-group">
          <label for="platforms">Platforms</label>
          <input
            class="form-control thick-border border-radius-sm"
            name="platforms"
            type="text"
            value="{{review.platforms}}"
            readonly
          />
        </div>
        <div class="form-group">
          <label for="release_date">Release Date</label>
          <input
            class="form-control thick-border border-radius-sm"
            name="release_date"
            type="text"
            value="{{review.release_date}}"
            readonly
          />
        </div>
        <div class="form-group d-none">
          <label for="image_url">Image URL</label>
          <input
            class="form-control thick-border border-radius-sm"
            name="image_url"
            type="text"
            value="{{review.image_url}}"
            readonly
          />
        </div>
        <div class="form-group">
          <label for="rating">Rating</label>
          <select class="form-control thick-border border-radius-sm" name="rating" required>
            <option value="{{review.rating}}">{{review.rating}}</option>
            <option value="Awful">Awful</option>
            <option value="Meh">Meh</option>
            <option value="Decent">Decent</option>
            <option value="Good">Good</option>
            <option value="Amazing!">Amazing!</option>
          </select>
        </div>
        <div class="form-group d-none">
          <label for="reviewed_by">Reviewed by</label>
          <input
            class="form-control border-radius-sm"
            name="reviewed_by"
            type="text"
            value="{{session['username']}}"
            readonly
          />
        </div>
      </div>
      <!-- end of game details input section -->
    </div>
    <div class="row">
      <!-- game review input section -->
      <div class="col-lg-12">
        <div class="form-group">
          <textarea
            class="form-control border-radius-sm thick-border mt-4"
            name="review"
            rows="6"
            maxlength="5000"
            placeholder="Write your review here... (5000 characters max)"
          >{{review.review}}</textarea>
        <div class="text-center my-4">
            <button class="btn green-btn mx-1 rounded-pill" type="submit" name="action">
                Confirm Changes
            </button>
            <a href="{{ url_for('manage_reviews') }}" class="btn purple-btn mx-1 rounded-pill">Cancel</a>
        </div>
      </div>
      <!-- end of game review input section -->
    </div>
  </form>
</div>
{% endblock %}
